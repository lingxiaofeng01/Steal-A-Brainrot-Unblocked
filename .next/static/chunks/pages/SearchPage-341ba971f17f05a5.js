(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{17734:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(56467).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},18610:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/SearchPage",function(){return a(71251)}])},56467:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(14232),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{color:i="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:m,...u}=a;return(0,s.createElement)("svg",{ref:l,...r,width:n,height:n,stroke:i,strokeWidth:c?24*Number(o)/Number(n):o,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),d].join(" "),...u},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(m)?m:[m]])});return a.displayName="".concat(e),a}},71251:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(37876),r=a(14232);let l=(0,a(56467).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var i=a(17734),n=a(97842),o=a(95785),c=a(77025),d=a(80369);async function m(e){let t=e.trim();if(!t)return[];try{let{data:e,error:a}=await d.N.from("games").select("*").eq("is_active",!0).ilike("title","%".concat(t,"%")).order("play_count",{ascending:!1}).limit(20);if(a){console.error("Error searching games by title:",{message:a.message,code:a.code,details:a.details,hint:a.hint,query:t});let{data:e,error:s}=await d.N.from("games").select("*").eq("is_active",!0).ilike("description","%".concat(t,"%")).order("play_count",{ascending:!1}).limit(20);if(s)return console.error("Error searching by description:",{message:s.message,code:s.code,details:s.details,hint:s.hint,query:t}),[];return await Promise.all((e||[]).map(e=>u(e)))}return await Promise.all((e||[]).map(e=>u(e)))}catch(t){return console.error("Search error:",{error:t,message:t instanceof Error?t.message:String(t),query:e}),[]}}async function u(e){var t,a,s;let[r,l,i,n]=await Promise.all([d.N.from("game_categories").select("categories(slug, name, icon)").eq("game_id",e.id),d.N.from("game_tags").select("tags(slug, name)").eq("game_id",e.id),d.N.from("game_platforms").select("platforms(slug, name)").eq("game_id",e.id),d.N.from("game_seo").select("*").eq("game_id",e.id).maybeSingle()]);return{id:e.id,slug:e.slug,title:e.title,subtitle:e.subtitle,cover:e.cover,playUrl:e.play_url,description:e.description,rating:Number(e.rating)||0,playCount:e.play_count||0,duration:e.duration,releasedAt:e.released_at,isFeatured:e.is_featured,isActive:e.is_active,categories:(null==(t=r.data)?void 0:t.map(e=>e.categories).filter(Boolean))||[],tags:(null==(a=l.data)?void 0:a.map(e=>e.tags).filter(Boolean))||[],platforms:(null==(s=i.data)?void 0:s.map(e=>e.platforms).filter(Boolean))||[],seo:n.data?{metaTitle:n.data.meta_title,metaDescription:n.data.meta_description,keywords:n.data.keywords,ogImage:n.data.og_image}:void 0}}function x(){let[e,t]=(0,r.useState)(""),[a,d]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1);async function p(e){if(e.trim()){x(!0),g(!0);try{let t=await m(e);d(t);let a=new URL(window.location.href);a.searchParams.set("q",e),window.history.replaceState({},"",a.toString())}catch(e){console.error("Search failed:",e),d([])}finally{x(!1)}}}(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("q");e&&(t(e),p(e))},[]),(0,r.useEffect)(()=>{if(!e.trim()){d([]),g(!1);return}let t=setTimeout(()=>{p(e)},300);return()=>clearTimeout(t)},[e]);let b=()=>{t(""),d([]),g(!1);let e=new URL(window.location.href);e.searchParams.delete("q"),window.history.replaceState({},"",e.toString())};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-blue-50 to-cyan-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,s.jsx)(l,{className:"w-6 h-6 text-cyan-400"}),(0,s.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Search Games"}),(0,s.jsx)(l,{className:"w-6 h-6 text-cyan-400"})]}),(0,s.jsx)("p",{className:"text-slate-400 text-lg",children:"Find your next favorite unblocked game"})]}),(0,s.jsx)("div",{className:"relative mb-12",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/30 to-blue-500/30 rounded-2xl blur-lg group-focus-within:blur-xl transition-all"}),(0,s.jsxs)("div",{className:"relative bg-slate-700 backdrop-blur-xl rounded-2xl border-2 border-slate-600 group-focus-within:border-cyan-400 group-focus-within:bg-slate-700/90 transition-all shadow-lg",children:[(0,s.jsx)(i.A,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-6 h-6 text-cyan-400"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search for games, tags, or keywords...",className:"w-full pl-16 pr-14 py-5 bg-transparent text-white rounded-2xl focus:outline-none text-lg placeholder-slate-400 transition-colors",autoFocus:!0}),e&&(0,s.jsx)("button",{onClick:b,className:"absolute right-5 top-1/2 -translate-y-1/2 p-2 hover:bg-slate-600 rounded-lg transition-colors text-slate-300 hover:text-white","aria-label":"Clear search",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})]})}),u&&(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsxs)("div",{className:"relative w-16 h-16",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full blur-lg opacity-50 animate-pulse"}),(0,s.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-cyan-400 border-r-blue-400 rounded-full animate-spin"})]})}),(0,s.jsx)("p",{className:"text-slate-300 text-lg font-medium",children:"Searching for games..."})]}),!u&&h&&(0,s.jsx)(s.Fragment,{children:a.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-slate-300 text-lg",children:[(0,s.jsx)("span",{className:"text-cyan-400 font-bold text-2xl",children:a.length}),(0,s.jsx)("span",{className:"text-slate-400 ml-2",children:1===a.length?"game found":"games found"})]}),(0,s.jsxs)("p",{className:"text-slate-500 text-sm mt-1",children:["for ",(0,s.jsxs)("span",{className:"text-cyan-400 font-semibold",children:['"',e,'"']})]})]}),(0,s.jsx)(o.A,{className:"w-8 h-8 text-orange-400 opacity-50"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-8",children:a.map(e=>(0,s.jsxs)("a",{href:"/".concat(e.slug),className:"group cursor-pointer block",children:[(0,s.jsxs)("div",{className:"relative aspect-square rounded-xl overflow-hidden border-3 border-gray-300 hover:border-cyan-400 transition-all duration-300 hover:scale-105 shadow-md hover:shadow-xl bg-white",children:[e.releasedAt&&(0,s.jsx)(c.A,{releaseDate:e.releasedAt}),(0,s.jsx)("img",{src:e.cover,alt:e.title,className:"w-full h-full object-contain",loading:"lazy"})]}),(0,s.jsx)("p",{className:"text-center text-sm font-semibold text-gray-700 mt-2 truncate",children:e.title})]},e.id))})]}):(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(i.A,{className:"w-20 h-20 text-slate-600 mx-auto mb-4 opacity-50"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-3",children:"No Games Found"}),(0,s.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"We couldn't find any games matching"}),(0,s.jsxs)("p",{className:"text-cyan-400 font-semibold text-xl mb-8",children:['"',e,'"']}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)("button",{onClick:b,className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 rounded-lg text-white font-semibold transition-all transform hover:scale-105",children:"Try Another Search"}),(0,s.jsx)("a",{href:"/all",className:"px-8 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-semibold transition-colors",children:"Browse All Games"})]})]})}),!h&&(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"inline-block p-4 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl mb-6",children:(0,s.jsx)(i.A,{className:"w-16 h-16 text-cyan-400"})})}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-3",children:"Ready to Find Your Game?"}),(0,s.jsx)("p",{className:"text-slate-400 text-lg mb-8 max-w-md mx-auto",children:"Search by game name, tag, or keyword to discover your next favorite unblocked game"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 max-w-2xl mx-auto",children:["Puzzle","Action","Clicker","Multiplayer"].map(e=>(0,s.jsx)("button",{onClick:()=>t(e),className:"px-4 py-2 bg-slate-700/50 hover:bg-slate-600 border border-slate-600 hover:border-cyan-500 rounded-lg text-slate-300 hover:text-cyan-400 transition-all text-sm font-medium",children:e},e))})]})]})})})}},77025:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(37876);function r(e){let{releaseDate:t,className:a=""}=e;return(()=>{let e=new Date(t);return 7>=Math.ceil(Math.abs(new Date().getTime()-e.getTime())/864e5)})()?(0,s.jsx)("div",{className:"absolute top-2 left-2 z-10 ".concat(a),children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[(0,s.jsx)("span",{className:"text-yellow-300",children:"âœ¨"}),"NEW"]})}):null}},80369:(e,t,a)=>{"use strict";a.d(t,{N:()=>i,W:()=>n});var s=a(64256);let r="https://tgoyqxcqpwevgztprqgk.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRnb3lxeGNxcHdldmd6dHBycWdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAxMjgzMTEsImV4cCI6MjA3NTcwNDMxMX0.k8EYFMzaNGDytf8ZAYRkQlBhkTD1w6UBWSg0pwLW-mc";if(!r||!l)throw Error("Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file.");let i=(0,s.UU)(r,l);function n(){return!!r&&!!l}},95785:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(56467).A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},97842:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(56467).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{e.O(0,[4256,636,6593,8792],()=>e(e.s=18610)),_N_E=e.O()}]);
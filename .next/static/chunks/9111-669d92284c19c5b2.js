"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9111],{8584:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8705:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(37876),s=a(14232),r=a(35162),n=a(80369);function i(){let e=document.createElement("canvas"),t=e.getContext("2d");t&&(t.textBaseline="top",t.font="14px Arial",t.fillText("fingerprint",2,2));let a=[navigator.userAgent,navigator.language,screen.colorDepth,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),e.toDataURL()].join("|"),l=0;for(let e=0;e<a.length;e++)l=(l<<5)-l+a.charCodeAt(e),l&=l;return"fp_"+Math.abs(l).toString(36)}function o(e){let{gameSlug:t,initialRating:a=0,totalVotes:o=0,onRatingChange:d}=e,[c,m]=(0,s.useState)(a),[x,h]=(0,s.useState)(o),[g,u]=(0,s.useState)(null),[y,p]=(0,s.useState)(null),[f,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{w(),v()},[t]);let w=async()=>{try{let e=i(),{data:a,error:l}=await n.N.from("game_ratings").select("rating").eq("game_slug",t).eq("user_fingerprint",e).single();a&&!l&&u(a.rating)}catch(e){console.error("Error loading user rating:",e)}},v=async()=>{try{let{data:e,error:a}=await n.N.from("game_ratings").select("rating").eq("game_slug",t);if(e&&!a){let t=e.length,a=t>0?e.reduce((e,t)=>e+t.rating,0)/t:0;m(a),h(t),d&&d(a,t)}}catch(e){console.error("Error loading rating stats:",e)}},j=async e=>{if(!f){b(!0);try{let a=i(),{error:l}=await n.N.from("game_ratings").upsert({game_slug:t,user_fingerprint:a,rating:e},{onConflict:"game_slug,user_fingerprint"});if(l)throw l;u(e),await v()}catch(e){console.error("Error submitting rating:",e),alert("评分提交失败，请稍后重试")}finally{b(!1)}}},N=null!==y?y:g||c;return(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex items-center gap-1 p-2 bg-white rounded-lg border-2 border-gray-200 shadow-sm",onMouseLeave:()=>p(null),children:[1,2,3,4,5].map(e=>{let t=e<=Math.round(N),a=e===Math.ceil(N)&&N%1!=0;return(0,l.jsxs)("button",{onClick:()=>j(e),onMouseEnter:()=>p(e),disabled:f,className:"relative transition-transform hover:scale-110 disabled:opacity-50",children:[(0,l.jsx)(r.A,{className:"w-7 h-7 text-gray-300",fill:"currentColor"}),t&&(0,l.jsx)(r.A,{className:"absolute inset-0 w-7 h-7 text-yellow-400 transition-all",fill:"currentColor",style:{clipPath:a?"inset(0 ".concat(100-N%1*100,"% 0 0)"):"none"}})]},e)})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:c.toFixed(1)}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"/5"})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[x," ",1===x?"vote":"votes"]})]}),g&&(0,l.jsxs)("div",{className:"ml-2 px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:["You rated: ",g," ⭐"]})]})}},16542:(e,t,a)=>{a.d(t,{A:()=>x});var l=a(37876),s=a(14232),r=a(21271),n=a(43304),i=a(57009),o=a(35162),d=a(33616);let c=(0,a(56467).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=a(80369);function x(e){let{gameSlug:t}=e,[a,x]=(0,s.useState)([]),[h,g]=(0,s.useState)(""),[u,y]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[b,w]=(0,s.useState)(5),[v,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[A,_]=(0,s.useState)(!1),[M,C]=(0,s.useState)(!1),[S,E]=(0,s.useState)(0);(0,s.useEffect)(()=>{q()},[t]);let q=async()=>{try{let{data:e,error:a}=await m.N.from("game_comments").select("*").eq("game_slug",t).eq("status","approved").order("created_at",{ascending:!1}).limit(50);e&&!a&&x(e)}catch(e){console.error("Error loading comments:",e)}},P=async e=>{if(e.preventDefault(),!h.trim()||!u.trim()||!p.trim())return void alert("Please fill in all required fields (Name, Email, Comment)");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u))return void alert("Please enter a valid email address");if(!v)return void alert("Please agree to the terms and conditions before commenting");let a=Date.now(),l=a-S;if(l<45e3){let e=Math.ceil((45e3-l)/1e3);alert("Please wait ".concat(e," seconds before submitting another comment"));return}if(!N){k(!0);try{let{error:e}=await m.N.from("game_comments").insert({game_slug:t,user_name:h.trim(),user_email:u.trim(),comment_text:p.trim(),rating:b,agreed_terms:v,status:"pending"});if(e)throw e;g(""),y(""),f(""),w(5),j(!1),_(!1),E(a),C(!0),setTimeout(()=>C(!1),1e4),await q()}catch(e){console.error("Error submitting comment:",e),alert("Failed to submit comment. Please try again later.")}finally{k(!1)}}};return(0,l.jsxs)("div",{className:"space-y-6",children:[M&&(0,l.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-xl p-4 flex items-start gap-3 animate-pulse",children:[(0,l.jsx)(r.A,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-yellow-900",children:"Your comment is awaiting moderation!"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Thank you for your comment. It will be visible after review by our moderators."})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.A,{className:"w-6 h-6 text-cyan-400"}),(0,l.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Comments (",a.length,")"]})]}),!A&&(0,l.jsxs)("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-semibold rounded-lg transition-all duration-300 hover:scale-105 shadow-lg",children:[(0,l.jsx)(n.A,{className:"w-4 h-4"}),"Write a Comment"]})]}),A&&(0,l.jsx)("form",{onSubmit:P,className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 border-2 border-gray-200 shadow-lg",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"userName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Your Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{id:"userName",type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Enter your name",maxLength:50,className:"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:border-cyan-400 focus:ring-2 focus:ring-cyan-200 outline-none transition-all",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"userEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Your Email ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(i.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,l.jsx)("input",{id:"userEmail",type:"email",value:u,onChange:e=>y(e.target.value),placeholder:"your.email@example.com",maxLength:100,className:"w-full pl-11 pr-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:border-cyan-400 focus:ring-2 focus:ring-cyan-200 outline-none transition-all",required:!0})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your email will not be published"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"commentText",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Your Comment ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("textarea",{id:"commentText",value:p,onChange:e=>f(e.target.value),placeholder:"Share your thoughts about this game...",rows:4,maxLength:500,className:"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:border-cyan-400 focus:ring-2 focus:ring-cyan-200 outline-none transition-all resize-none",required:!0}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1 text-right",children:[p.length,"/500"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Your Rating ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>w(e),className:"transition-transform hover:scale-110",children:(0,l.jsx)(o.A,{className:"w-6 h-6 ".concat(e<=b?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300")})},e)),(0,l.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:[b,"/5"]})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[(0,l.jsx)("input",{id:"agreedTerms",type:"checkbox",checked:v,onChange:e=>j(e.target.checked),className:"mt-1 w-4 h-4 text-cyan-500 border-gray-300 rounded focus:ring-cyan-400",required:!0}),(0,l.jsxs)("label",{htmlFor:"agreedTerms",className:"text-sm text-gray-700 cursor-pointer",children:["I have read and agree to the"," ",(0,l.jsx)("a",{href:"/terms",className:"text-cyan-600 hover:text-cyan-700 font-semibold underline",children:"terms and conditions"}),". Please leave constructive comments, respect other people's opinions, and stay on topic.",(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]}),(0,l.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded",children:(0,l.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,l.jsx)("strong",{children:"Note:"})," All comments are moderated before being published. Please allow some time for your comment to appear."]})}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("button",{type:"submit",disabled:N,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-bold rounded-lg transition-all duration-300 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,l.jsx)(d.A,{className:"w-4 h-4"}),N?"Posting...":"Post Comment"]}),(0,l.jsx)("button",{type:"button",onClick:()=>{_(!1),g(""),y(""),f(""),j(!1)},className:"px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold rounded-lg transition-colors",children:"Cancel"})]})]})}),(0,l.jsx)("div",{className:"space-y-4",children:0===a.length?(0,l.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[(0,l.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-gray-500 font-medium",children:"No comments yet"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Be the first to share your thoughts!"})]}):a.map(e=>(0,l.jsx)("div",{className:"bg-white rounded-xl p-5 border-2 border-gray-200 hover:border-cyan-300 transition-all shadow-sm hover:shadow-md",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(c,{className:"w-5 h-5 text-white"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("span",{className:"font-bold text-gray-900",children:e.user_name}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:(e=>{let t=new Date(e),a=new Date,l=a.getTime()-t.getTime(),s=Math.floor(l/6e4),r=Math.floor(l/36e5),n=Math.floor(l/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):r<24?"".concat(r,"h ago"):n<7?"".concat(n,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==a.getFullYear()?"numeric":void 0})})(e.created_at)})]}),e.rating&&(0,l.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[[void 0,void 0,void 0,void 0,void 0].map((t,a)=>(0,l.jsx)(o.A,{className:"w-4 h-4 ".concat(a<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300")},a)),(0,l.jsxs)("span",{className:"text-xs text-gray-600 ml-1",children:[e.rating,"/5"]})]}),(0,l.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.comment_text})]})]})},e.id))})]})}},21271:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},27596:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]])},33616:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},43304:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},47180:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(37876),s=a(97364),r=a(54587),n=a.n(r);function i(e){let{title:t,description:a,thumbnail:r,gameSlug:i,tags:o=[],onPlayClick:d,backgroundColor:c="from-orange-400 via-orange-300 to-orange-200"}=e;return(0,l.jsxs)("div",{className:"relative w-full bg-gradient-to-br ".concat(c," rounded-3xl lg:rounded-[3rem] overflow-hidden shadow-2xl"),children:[(0,l.jsxs)("div",{className:"hidden md:flex md:items-center md:justify-between md:min-h-[500px] lg:min-h-[600px] xl:min-h-[650px] md:px-12 lg:px-16 xl:px-20 md:py-12 lg:py-16",children:[(0,l.jsxs)("div",{className:"flex-1 max-w-xl lg:max-w-2xl pr-8 lg:pr-12",children:[(0,l.jsx)("h2",{className:"text-4xl lg:text-5xl xl:text-6xl font-black text-gray-900 mb-6 lg:mb-8 leading-tight",children:t}),(0,l.jsx)("p",{className:"text-base lg:text-lg xl:text-xl text-gray-800 mb-8 lg:mb-10 leading-relaxed",children:a}),(0,l.jsxs)("button",{onClick:d,className:"group inline-flex items-center gap-3 px-8 lg:px-10 py-4 lg:py-5 bg-gray-900 hover:bg-black text-white font-bold text-lg lg:text-xl rounded-full shadow-2xl transition-all duration-300 hover:scale-105",children:[(0,l.jsx)(s.A,{className:"w-5 h-5 lg:w-6 lg:h-6 fill-white"}),(0,l.jsx)("span",{children:"PLAY GAME"})]})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-64 h-64 lg:w-80 lg:h-80 xl:w-96 xl:h-96 rounded-full overflow-hidden shadow-2xl ring-8 ring-white/20",children:(0,l.jsx)(n(),{src:r,alt:"".concat(t," - Play Now | Free Unblocked Game"),width:384,height:384,className:"w-full h-full object-cover",loading:"eager",quality:80,priority:!0})})})]}),(0,l.jsxs)("div",{className:"md:hidden flex flex-col items-center text-center px-6 py-10 sm:px-8 sm:py-12 min-h-[550px] sm:min-h-[600px]",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"w-48 h-48 sm:w-56 sm:h-56 rounded-full overflow-hidden shadow-2xl ring-6 ring-white/20",children:(0,l.jsx)(n(),{src:r,alt:"".concat(t," - Play Now | Free Unblocked Game"),width:224,height:224,className:"w-full h-full object-cover",loading:"eager",quality:80,priority:!0})})}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col justify-center",children:[(0,l.jsx)("h2",{className:"text-3xl sm:text-4xl font-black text-gray-900 mb-4 sm:mb-6 leading-tight",children:t}),(0,l.jsx)("p",{className:"text-sm sm:text-base text-gray-800 mb-6 sm:mb-8 leading-relaxed max-w-md mx-auto",children:a}),(0,l.jsxs)("button",{onClick:d,className:"group inline-flex items-center justify-center gap-2 sm:gap-3 px-8 sm:px-10 py-4 sm:py-5 bg-gray-900 hover:bg-black text-white font-bold text-base sm:text-lg rounded-full shadow-2xl transition-all duration-300 hover:scale-105 mx-auto",children:[(0,l.jsx)(s.A,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-white"}),(0,l.jsx)("span",{children:"PLAY GAME"})]})]})]}),(0,l.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden rounded-3xl lg:rounded-[3rem]",children:[(0,l.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 sm:w-40 sm:h-40 bg-white/10 rounded-full blur-3xl"}),(0,l.jsx)("div",{className:"absolute bottom-10 right-10 w-40 h-40 sm:w-48 sm:h-48 bg-white/5 rounded-full blur-3xl"})]})]})}},57009:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},77025:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(37876);function s(e){let{releaseDate:t,className:a=""}=e;return(()=>{let e=new Date(t);return 7>=Math.ceil(Math.abs(new Date().getTime()-e.getTime())/864e5)})()?(0,l.jsx)("div",{className:"absolute top-2 left-2 z-10 ".concat(a),children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[(0,l.jsx)("span",{className:"text-yellow-300",children:"✨"}),"NEW"]})}):null}},97364:(e,t,a)=>{a.d(t,{A:()=>l});let l=(0,a(56467).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])}}]);